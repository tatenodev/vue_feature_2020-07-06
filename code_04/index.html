<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Vue.js minigame</title>
</head>
<body>

	<div id="app" style="text-align: center;">
		<!-- 結果 -->
		<h1>{{result}}</h1>

		<!-- 自分の手 -->
		<div>
			<button @click="fight('goo')">ぐー</button>
			<button @click="fight('choki')">ちょき</button>
			<button @click="fight('paa')">ぱー</button>
		</div>

		<!-- 敵の手 -->
		<div>
			<img :src="enemyHandImage">
		</div>

		
	</div>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>

	new Vue({
		el: '#app',
		data: {
			hand: ['goo','choki','paa'],
			enemyHandImage: "https://www.silhouette-illust.com/wp-content/uploads/2016/11/17437-300x300.jpg",
			enemyHand: "",
			result: "いざ勝負！"
		},
		methods: {
			fight: function(myHand){
				let index = Math.floor(Math.random() * Math.floor(3));
				this.enemyHand = this.hand[index];

				if (this.enemyHand === 'goo') {
					this.enemyHandImage = "https://www.silhouette-illust.com/wp-content/uploads/2016/11/17390-300x300.jpg";
				}else if(this.enemyHand === 'choki'){
					this.enemyHandImage = "https://www.silhouette-illust.com/wp-content/uploads/2016/11/17430-300x300.jpg";
				}else if(this.enemyHand === 'paa'){
					this.enemyHandImage = "https://www.silhouette-illust.com/wp-content/uploads/2016/11/17431-300x300.jpg";
				}

				console.log('--- game start ---')
				console.log("敵の手："+this.enemyHand);
				console.log("自分の手："+myHand);

				// 引き分け判定
				if (myHand === this.enemyHand) {
					console.log('結果：引き分け')
					this.result = '引き分け'
				}

				// 勝ち判定
				if (this.enemyHand === 'goo' && myHand === 'paa') {
					console.log('結果：勝ち');
					this.result = '勝ち！'
				}
				if (this.enemyHand === 'choki' && myHand === 'goo') {
					console.log('結果：勝ち');
					this.result = '勝ち！'
				}
				if (this.enemyHand === 'paa' && myHand === 'choki') {
					console.log('結果：勝ち');
					this.result = '勝ち！'
				}

				// 負け判定
				if (this.enemyHand === 'goo' && myHand === 'choki') {
					console.log('結果：負け');
					this.result = '負け...'
				}
				if (this.enemyHand === 'choki' && myHand === 'paa') {
					console.log('結果：負け');
					this.result = '負け...'
				}
				if (this.enemyHand === 'paa' && myHand === 'goo') {
					console.log('結果：負け');
					this.result = '負け...'
				}


			}
		}
	})
	
</script>
</body>
</html>
